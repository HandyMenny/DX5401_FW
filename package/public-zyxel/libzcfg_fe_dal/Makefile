# This is free software, licensed under the GNU General Public License v2.
# See /LICENSE for more information.
#
# $Id$
	
include $(TOPDIR)/rules.mk

#These lines concatanate the package name and list the URL location from which the package source code is to be downloaded
PKG_NAME:=libzcfg_fe_dal
PKG_VERSION:=2.0
PKG_RELEASE:=1

PKG_NAME_VER  := $(PKG_NAME)-$(PKG_VERSION)
PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz

#PKG_SOURCE_URL:=@ZyXEL_SITE/public/ZyXEL
DL_DIR:=$(TOPDIR)/dl/public/zyxel
PKG_CAT:=zcat

PKG_BUILD_DIR:=$(BUILD_DIR)/$(PKG_NAME)-$(PKG_VERSION)

include $(INCLUDE_DIR)/package.mk

#These lines describe what your package does and its place in the menu config

ifeq ($(CONFIG_ZYXEL_MEMORY_LEAK_DETECT),y)
export CONFIG_ZYXEL_MEMORY_LEAK_DETECT
endif

#====== backend module ======
include $(TOPDIR)/be_modules.mk
#====== end of backend module
export ZFLAGS

define Package/libzcfg_fe_dal
SECTION:=net
CATEGORY:=Zyxel Packages
TITLE:= ZyXEL Configuration Management Data Access Library
DESCRIPTION:=
DEPENDS:=+libzcfg_fe_rdm_string +libzcfg_fe_rdm_struct +libzcfg_fe_schema +libzyutil +libzlog
endef

#For the compile rules you need to specify the cross compiler which needs to be used :


#These lines describe where your binary images are to be installed ï¿½V its the equivalent to make install

# This particular package is a library and the installation rules reflect it

define CheckDependencies
endef

ifeq ("$(strip ${ZCFG_PLATFORM})","BROADCOM")
# support DSL bonding
ifeq ($(CONFIG_BRCMSDK$(shell echo $(CONFIG_BRCM_SDK_VERSION))_BRCM_PHY_BONDING),y)
export SUPPORT_DSL_BONDING=y
endif
ifneq ("$(CONFIG_BRCMSDK$(shell echo $(CONFIG_BRCM_SDK_VERSION))_BRCM_CHIP)",)
BRCM_CHIP = $(CONFIG_BRCMSDK$(shell echo $(CONFIG_BRCM_SDK_VERSION))_BRCM_CHIP)
ZYXEL_LIB_CFLAGS += -DCONFIG_BCM9$(BRCM_CHIP)
endif
#EthWanAsLan
ifeq ($(CONFIG_BRCMSDK$(shell echo $(CONFIG_BRCM_SDK_VERSION))_ZYXEL_SUPPORT_ETHWAN_AS_LAN),y)
ZYXEL_LIB_CFLAGS += -DZYXEL_SUPPORT_ETHWAN_AS_LAN
endif

#VDSL2LR
ifeq ($(CONFIG_BRCMSDK$(shell echo $(CONFIG_BRCM_SDK_VERSION))_BUILD_PHY_VDSL2LR),y)
ZYXEL_LIB_CFLAGS += -DSUPPORT_VDSL2LR
endif

ZYXEL_LIB_CFLAGS += -DBROADCOM_PLATFORM
endif

ifeq ($(CONFIG_HAWAIIAN_TELCOM),y)
export HAWAIIAN_TELCOM=y
endif

ZYXEL_LIB_CFLAGS += -DWAN_INTERFACES=$(CONFIG_ZYXEL_WEB_GUI_NUM_OF_WAN_INTF)

export CONFIG_MSTC_TTNET_MULTI_USER
ifeq ($(CONFIG_MSTC_TTNET_MULTI_USER),y)
ZYXEL_LIB_CFLAGS += -DMSTC_TTNET_MULTI_USER
endif

export CONFIG_MSTC_RETAIL_MULTI_USER
ifeq ($(CONFIG_MSTC_RETAIL_MULTI_USER),y)
ZYXEL_LIB_CFLAGS += -DMSTC_RETAIL_MULTI_USER
endif

export CONFIG_ZYXEL_CUSTOMIZATION_SYSLOG
ifeq ($(CONFIG_ZYXEL_CUSTOMIZATION_SYSLOG),y)
ZYXEL_LIB_CFLAGS += -DZYXEL_CUSTOMIZATION_SYSLOG
endif

export CONFIG_ZYXEL_ANY_PORT_ANY_SERVICE
ifeq ($(CONFIG_ZYXEL_ANY_PORT_ANY_SERVICE),y)
ZYXEL_LIB_CFLAGS += -DZYXEL_ANY_PORT_ANY_SERVICE
endif

export CONFIG_ZYXEL_ANY_PORT_ANY_SERVICE_INTFGRP
ifeq ($(CONFIG_ZYXEL_ANY_PORT_ANY_SERVICE_INTFGRP),y)
ZYXEL_LIB_CFLAGS += -DZYXEL_ANY_PORT_ANY_SERVICE_INTFGRP
endif

export CONFIG_TT_PACKETCAPTURE
ifeq ($(CONFIG_TT_PACKETCAPTURE),y)
ZYXEL_LIB_CFLAGS += -DCONFIG_TT_PACKETCAPTURE
endif

export CONFIG_TT_CUSTOMIZATION_TR069
ifeq ($(CONFIG_TT_CUSTOMIZATION_TR069),y)
ZYXEL_LIB_CFLAGS += -DCONFIG_TT_CUSTOMIZATION_TR069
endif

export CONFIG_TT_CUSTOMIZATION_V6
ifeq ($(CONFIG_TT_CUSTOMIZATION_V6),y)
ZYXEL_LIB_CFLAGS += -DZYXEL_TT_CUSTOMIZATION_V6
endif

export CONFIG_ZYXEL_CONFIG_MAX_WLAN_CLIENT
ifeq ($(CONFIG_ZYXEL_CONFIG_MAX_WLAN_CLIENT),y)
EXTRA_CFLAGS += -DZYXEL_CONFIG_MAX_WLAN_CLIENT
endif

export CONFIG_ZYXEL_TT_MGMTPORT_SEPARETE
ifeq ($(CONFIG_ZYXEL_TT_MGMTPORT_SEPARETE),y)
ZYXEL_LIB_CFLAGS += -DCONFIG_ZYXEL_TT_MGMTPORT_SEPARETE
endif

export CONFIG_ZYXEL_TR140
ifeq ($(CONFIG_ZYXEL_TR140),y)
ZYXEL_LIB_CFLAGS += -DCONFIG_ZYXEL_TR140
endif

export CONFIG_ZYXEL_WAN_DHCPV6_MODE
ifeq ($(CONFIG_ZYXEL_WAN_DHCPV6_MODE),y)
ZYXEL_LIB_CFLAGS += -DZYXEL_WAN_DHCPV6_MODE
endif

export CONFIG_ZYXEL_PD_TYPE
ifeq ($(CONFIG_ZYXEL_PD_TYPE),y)
ZYXEL_LIB_CFLAGS += -DZYXEL_PD_TYPE
endif

export CONFIG_ZYXEL_AUTO_INTF_GRP_QOS_PRI_ADJUSTMENT
ifeq ($(CONFIG_ZYXEL_AUTO_INTF_GRP_QOS_PRI_ADJUSTMENT),y)
ZYXEL_LIB_CFLAGS += -DZYXEL_AUTO_INTF_GRP_QOS_PRI_ADJUSTMENT
endif

export CONFIG_ZYXEL_TR69_SUPPLEMENTAL_ACS

#XMPP
export CONFIG_ZYXEL_TR69_XMPP_CONNECTION_REQUEST

# WAN MAC for Ethernet WAN
export CONFIG_ZYXEL_WAN_MAC
export CONFIG_ZyXEL_WEB_GUI_SINGLE_IGMP_MLD
export CONFIG_ZyXEL_WEB_GUI_SHOW_IGMP_VERSION
export CONFIG_ZYXEL_VDSL_Support_30A
export CONFIG_ZYXEL_VDSL_Support_35B
export CONFIG_CBT_CUSTOMIZATION
export CONFIG_YAC_CUSTOMIZATION
export CONFIG_YAD_PARENT_CONTROL_CUSTOMIZATION
export CONFIG_ZYXEL_WEB_WIRELESS_NEW_VERSION_ONE
export CONFIG_ZYXEL_WEB_NETWORK_MAP_NEW_STYLE
export CONFIG_ZyXEL_WEB_GUI_SHOW_PON
export CONFIG_ZyXEL_WEB_GUI_SHOW_GPON_STATUS
export CONFIG_ZYXEL_WEB_GUI_ETH_UNI
export CONFIG_ZYXEL_CELLWAN_SUPPORT
export CONFIG_ZYXEL_WEB_GUI_SHOW_CELLWAN
export CONFIG_ZYXEL_WEB_GUI_CELLWAN_SUPPORT_MULTI_APN
export CONFIG_ZYXEL_WEB_GUI_CELLWAN_SUPPORT_SMS
export CONFIG_ZYXEL_WEB_GUI_CELLWAN_SUPPORT_PCI_LOCK
export CONFIG_ZYXEL_WEB_GUI_CELLWAN_SUPPORT_NR_NSA
export CONFIG_ZYXEL_WEB_GUI_CELLWAN_SUPPORT_NBR_CELLS
export CONFIG_ZYXEL_WEB_GUI_CELLWAN_SUPPORT_GNSS_LOCATION
export CONFIG_ZYXEL_WEB_GUI_SUPPORT_SAS_CBSD
export CONFIG_ZYXEL_WEB_GUI_SHOW_MESH_ROLE_SELECT_OPTIONS
export CONFIG_ISKON_CUSTOMIZATION
export CONFIG_ABUE_CUSTOMIZATION
export CONFIG_ABZQ_CUSTOMIZATION
export CONFIG_ABUU_CUSTOMIZATION
export CONFIG_ABPY_CUSTOMIZATION
export CONFIG_ABOG_CUSTOMIZATION
export CONFIG_ACBD_CUSTOMIZATION
export CONFIG_ZYXEL_WWAN_CHECK_IPV6_ADDRESS
export CONFIG_ZYXEL_ADVANCE_SMB_PRIVILEGE
export CONFIG_ZYXEL_AP_STEERING
export CONFIG_ACEN_CUSTOMIZATION
export CONFIG_ZYXEL_WEB_GUI_HOST_PRIORITY_STATICIP
export CONFIG_PACKAGE_ZyIMS
export CONFIG_TARGET_en75xx
export CONFIG_ZYXEL_WEB_GUI_ECONET_QoS_STYLE
export CONFIG_ZYXEL_WEB_GUI_SHOW_QOS_CLS_TARGET_INTF
export CONFIG_PACKAGE_webgui_vue
export CONFIG_ZYXEL_GUIVUE_USB_INFO_SHOW_SYSINFO
export CONFIG_BUILD_ZYXEL_PCI_LOCK_NUM
export CONFIG_ZyXEL_WEB_GUI_SHOW_WWAN
export CONFIG_PACKAGE_mos
export CONFIG_ZYXEL_LED_SWITCH_ACTIVE
export CONFIG_KERNEL_ZYXEL_PPTPD_RELAY
export CONFIG_ZYXEL_SUPPORT_PPPOE_MTU_1500
export CONFIG_ZYXEL_WEB_GUI_ALLOW_PPPUSERNAME_EMPTY
#NAT log recorded feature
export CONFIG_ZYXEL_PPP_AUTH_MENU_CHAP_PAP_CTL
export CONFIG_ZYXEL_NAT_LOG
export CONFIG_ZYXEL_SUPPORT_8021X
export CONFIG_ZYXEL_RADIO_MAIN_SSID_INDEPENDENT

# Support Econet platform portmirror use
export ECONET_PLATFORM

export CONFIG_ZYXEL_ONESSID

export CONFIG_ZYXEL_EASYMESH

export CONFIG_ZYXEL_WIFI_SUPPORT_WDS

#DHCPv6 option 64
export CONFIG_ZYXEL_DHCPV6_OPTION64

#IPv6 MAP-E/MAP-T
export CONFIG_ZYXEL_IPV6_MAP

#Support Guest AP host session control
export CONFIG_ZXYEL_GUEST_AP_SESSION_CTL

#Auto Detect Wan
export CONFIG_ELISA_NAT_PORTFORWARD_CUSTOMIZATION

#DMZ Management
export CONFIG_ZYXEL_SUPPORT_DMZ_MANAGEMENT

export CONFIG_ZY_WIFI_ONESSID_SECURITY_SYNC

export CONFIG_ZYXEL_BANDWIDTH_IMPROVEMENT
export CONFIG_ZYXEL_REMOTE_ACCESS_PRIVILEGE
export CONFIG_ZYXEL_REMOTE_ACCOUNT_ACCESS_PRIVILEGE
export CONFIG_ZYXEL_REMOMGMT_SEPARATE_LAN_WLAN_PRIVILEGE
export CONFIG_ZYXEL_WLAN_SCHEDULER_AUTO_SWITCH_RADIO_ON
export CONFIG_ZYXEL_NAT_PORTFORWARD_SOURCE_IP_SUBNETMASK
#Support PPTP VPN
export CONFIG_KERNEL_ZYXEL_PPTP_SUPPORT

#Support IPSec VPN
export CONFIG_ZYXEL_IPSEC_VPN

#Support VPN Client Config
export CONFIG_ZYXEL_VPN_CLIENT

ifeq ($(CONFIG_ZYXEL_WIFI_SUPPORT_WEP_MODE),y)
	ZYXEL_LIB_CFLAGS += -DZYXEL_WIFI_SUPPORT_WEP_MODE
endif

#Support WiFi Security Mode WEP/WPA/WPA-MIXED
export CONFIG_ZYXEL_WIFI_SUPPORT_WEP_WPA_MIXMODE

export CONFIG_ZYXEL_WIFI_SUPPORT_WPA_ONLY_MODE

export CONFIG_ZYXEL_TT_WPSSETUPLOCK

#Support Second Lan IP Alias
export CONFIG_ZYXEL_SECOND_LAN_IP_ALIAS

#Support IP UNNUMBER
export CONFIG_ZYXEL_IP_UNNUMBER

#Customization
export CONFIG_INTERNET_LED_DEPEND_ON_DEFAULT_GW CONFIG_ELISA_NETWORKMAP_CUSTOMIZATION CONFIG_ZYXEL_SYNC_CCWAN_TO_ALL_DEFGW
export CONFIG_SAME_FW_FOR_TWO_BOARD
export CONFIG_ZYXEL_USA_PRODUCT
export CONFIG_CODETEL_CUSTOMIZATION
export CONFIG_CLARO_CUSTOMIZATION
export CONFIG_ZYXEL_ONECONNECT_PARENTCTL_OPTION
export CONFIG_ABWW_SHOW_USB_PARTITION_INFOR
export CONFIG_GFIBER_CUSTOMIZATION

ifeq ($(CONFIG_ZYXEL_USA_PRODUCT),y)
ZYXEL_LIB_CFLAGS += -DZYXEL_USA_PRODUCT
endif

#Support Feature Bits
export CONFIG_ZYXEL_FEATURE_BITS

#Support fake IP 169.254.X.X/16 when WAN doesn't get IP
export CONFIG_ZYXEL_FAKE_IP_169_254_X_X

#zlog
export CONFIG_ZLOG_USE_DEBUG

#cybersecurity
export CONFIG_ZYXEL_HOME_CYBER_SECURITY_FSECURE

# Hide SSH/SNMP/FTP port number in remote management (loing in admin)
export CONFIG_ZYXEL_ADMIN_HIDE_FTP_SNMP_SSH_PORT_NUMBER

# Zyxel GRE Tunnel
export CONFIG_ZYXEL_GRE

# zupnp
export CONFIG_PACKAGE_zupnp

# miniupnpd
export CONFIG_PACKAGE_miniupnpd

# Avast agent package support
export CONFIG_ZYXEL_AVAST_AGENT_SUPPORT

#SFP Power mgmt
export CONFIG_ZYXEL_SFP_POWER_MGMT
export CONFIG_ZYXEL_SFP_MODULE_SUPPORT

#TWAMP 
ifeq ($(CONFIG_PACKAGE_OWAMP),y)
ZYXEL_LIB_CFLAGS += -DCONFIG_PACKAGE_OWAMP
export CONFIG_PACKAGE_OWAMP
endif


#VOICE
export CONFIG_BUILD_ZYXEL_VOICE_RFC3263_DNS_NAPTR_SUPPORT

#PCP
export CONFIG_ZYXEL_PCP

#multiwan
export CONFIG_ZYXEL_MULTI_WAN

# support Configurable wwanbackup wait time
export CONFIG_ZYXEL_CONFIGURABLE_WWANBACKUP_WAIT_TIME

export CONFIG_ZYXEL_TTNET_EDNS
export CONFIG_ZYXEL_TTNET_FIREWALL_WANINTERFACE
export CONFIG_TT_HGW

#countrycode
export CONFIG_ZYXEL_WEB_GUI_WIFI_COUNTRYCODE_SELECT

#regmode
export CONFIG_ZYXEL_WEB_GUI_WLAN_DFS_SW

#define the number of interface for 2.4G and 5G
ZYXEL_LIB_CFLAGS += -DTOTAL_INTERFACE_24G=$(CONFIG_ZYXEL_WIFI_NUM_OF_24G_SSID_INTERFACE)
ZYXEL_LIB_CFLAGS += -DTOTAL_INTERFACE_5G=$(CONFIG_ZYXEL_WIFI_NUM_OF_5G_SSID_INTERFACE)

#define EASYMESH
ifeq ($(CONFIG_ZYXEL_EASYMESH),y)
	ZYXEL_LIB_CFLAGS += -DZYXEL_EASYMESH
	export CONFIG_ZYXEL_EASYMESH
endif

ifeq ($(CONFIG_ZYXEL_EASYMESH_R2),y)
ZYXEL_LIB_CFLAGS += -DZYXEL_EASYMESH_R2
export CONFIG_ZYXEL_EASYMESH_R2
endif

#define OPAL_EXTENDER
ifeq ($(CONFIG_ZYXEL_OPAL_EXTENDER),y)
	ZYXEL_LIB_CFLAGS += -DZYXEL_OPAL_EXTENDER
	export CONFIG_ZYXEL_OPAL_EXTENDER
endif

#define ECONET_OPERATION_MODE
ifeq ($(CONFIG_ZYXEL_ECONET_OPERATION_MODE),y)
	ZYXEL_LIB_CFLAGS += -DZYXEL_ECONET_OPERATION_MODE
	export CONFIG_ZYXEL_ECONET_OPERATION_MODE
endif
#define CONFIG_ZYXEL_ECONET_REPEATER_NO_MESH
ifeq ($(CONFIG_ZYXEL_ECONET_REPEATER_NO_MESH),y)
	ZYXEL_LIB_CFLAGS += -DZYXEL_ECONET_REPEATER_NO_MESH
	export CONFIG_ZYXEL_ECONET_REPEATER_NO_MESH
endif
#define DBDC_MODE
ifeq ($(CONFIG_ZY_WIFI_DBDC_MODE),y)
    ZYXEL_LIB_CFLAGS += -DZY_WIFI_DBDC_MODE
       export CONFIG_ZY_WIFI_DBDC_MODE
endif

#define ECONET_DUAL_BAND_BACKHAUL
ifeq ($(CONFIG_ZYXEL_ECONET_DUAL_BAND_BACKHAUL),y)
	ZYXEL_LIB_CFLAGS += -DZYXEL_ECONET_DUAL_BAND_BACKHAUL
	export CONFIG_ZYXEL_ECONET_DUAL_BAND_BACKHAUL
endif

# Support PON
ifeq ($(CONFIG_XPON_SUPPORT),y)
	export CONFIG_XPON_SUPPORT
endif

#fsecure
ifeq ($(CONFIG_ZYXEL_HOME_CYBER_SECURITY_FSECURE),y)
CFLAGS += -DCONFIG_ZYXEL_HOME_CYBER_SECURITY_FSECURE=y
CONFIG_ZYXEL_ZY_LICENSE_CMD:=y
endif
export CONFIG_ZYXEL_HOME_CYBER_SECURITY
ifeq ($(CONFIG_ZYXEL_HOME_CYBER_SECURITY),y)
CFLAGS += -DCONFIG_ZYXEL_HOME_CYBER_SECURITY=y
endif

ifeq ($(CONFIG_ZYXEL_ZY_LICENSE_CMD),y)
CONFIG_ZYXEL_ZY_LICENSE_CMD:=y
export CONFIG_ZYXEL_ZY_LICENSE_CMD
endif

ifeq ($(CONFIG_ABZQ_CUSTOMIZATION),y)
       ZYXEL_LIB_CFLAGS += -DCONFIG_ABZQ_CUSTOMIZATION
	   ZYXEL_LIB_CFLAGS += -DABZQ_CUSTOMIZATION_GUI_USER_ACCOUNT_SHOW_ALL
	   ZYXEL_LIB_CFLAGS += -DABZQ_CUSTOMIZATION_NOT_CHECK_MEDIUMGP_OLD_PASSWORD
endif

ifeq ($(CONFIG_ABUU_CUSTOMIZATION),y)
       ZYXEL_LIB_CFLAGS += -DABUU_CUSTOMIZATION
endif

ifeq ($(CONFIG_ABUU_CUSTOMIZATION_MULTIPLE_CONFIG),y)
	ZYXEL_LIB_CFLAGS += -DABUU_CUSTOMIZATION_MULTIPLE_CONFIG
endif

ifeq ($(CONFIG_ABUU_CUSTOMIZATION_QOS),y)
	ZYXEL_LIB_CFLAGS += -DABUU_CUSTOMIZATION_QOS
endif
ifeq ($(CONFIG_ABUU_CUSTOMIZATION_WLAN_SCHEDULER),y)
	ZYXEL_LIB_CFLAGS += -DABUU_CUSTOMIZATION_WLAN_SCHEDULER
endif

ifeq ($(CONFIG_ABUU_CUSTOMIZATION_DSL_TROUBLE_SHOOTING),y)
	EXTRA_CFLAGS += -DABUU_CUSTOMIZATION_DSL_TROUBLE_SHOOTING
endif

ifeq ($(CONFIG_NN_FLOWER_SPECIFIC_CAPABILITY),y)
	ZYXEL_LIB_CFLAGS += -DNN_FLOWER_SPECIFIC_CAPABILITY
endif

export CONFIG_ZYXEL_TTNET_NTP_MULTIWAN
ifeq ($(CONFIG_ZYXEL_TTNET_NTP_MULTIWAN),y)
        ZYXEL_LIB_CFLAGS += -DZYXEL_TTNET_NTP_MULTIWAN
endif

ifeq ($(CONFIG_ZYXEL_DPP_R2),y)
        ZYXEL_LIB_CFLAGS += -DZYXEL_DPP_R2
endif

#NEW GUI
export CONFIG_ZCFG_VMG4927_B50A_Generic
export CONFIG_ZCFG_EMG6726_B10A_Generic

#Co-FW
export CONFIG_ZYXEL_BOARD_DETECT_BY_GPIO
export CONFIG_SAME_FW_FOR_PROJECTS
export CONFIG_PACKAGE_zywifid
export CONFIG_PACKAGE_mailsend
export CONFIG_ABQA_CUSTOMIZATION
export CONFIG_ZYXEL_ONECONNECT
export CONFIG_STARRY_CUSTOMIZATION
export CONFIG_PACKAGE_wwan
ifeq ($($(shell echo CONFIG_BRCMSDK$(CONFIG_BRCM_SDK_VERSION)_ZYXEL_SUPPORT_ETHWAN_AS_LAN)),y)
       export ZYXEL_SUPPORT_ETHWAN_AS_LAN
endif

#ZYEE
export CONFIG_ZYXEL_WEB_GUI_SHOW_ZYEE

# ZYXEL LAN as ETHWAN
ifeq ($(CONFIG_$(shell echo $(CONFIG_CUSTOM_SDK_PREFIX))_ZYXEL_SUPPORT_LAN_AS_ETHWAN),y)
export CONFIG_ZYXEL_SUPPORT_LAN_AS_ETHWAN=y
endif

export CONFIG_TT_DSL_BINDING
export CONFIG_TT_PORTMIRROR
export CONFIG_TT_PORTMIRROR_E
export CONFIG_ZYXEL_TT_CUSTOMIZATION

export CONFIG_ZYXEL_WEB_GUI_PORT_MIRROR_RPCAPD

export CONFIG_ZYXEL_SEND_NEW_CONNECTION_NOTIFICATION

#periodically change admin password
export CONFIG_ZYXEL_PERIODICALLY_CHANGE_PASSWORD

#VPNLite Support
export CONFIG_ZYXEL_VPNLITE

#VoIP
export CONFIG_ZYXEL_WEB_GUI_SYS_INFO_PAGE_SHOW_VOIP_INFO 

#console redirect
export CONFIG_PACKAGE_zconsole_monitor

TARGET_CFLAGS += $(ZYXEL_LIB_CFLAGS)
TARGET_LDFLAGS += $(ZYXEL_LIB_LDFLAGS)

define Build/Prepare
	rm -rf $(PKG_BUILD_DIR)
	$$(call link_files,$(PKG_NAME_VER),$(BUILD_DIR))
endef

# Use openwrt default Build/Compile/Default
#define Package/libzcfg_fe_dal/compile
#	$(MAKE) -C $(PKG_BUILD_DIR) \
#		EXTRA_CFLAGS="$(EXTRA_CFLAGS)"
#endef

define Build/InstallDev
	$(INSTALL_DIR) $(1)/usr/include
	$(CP) $(PKG_BUILD_DIR)/*.h $(1)/usr/include/
	$(INSTALL_DIR) $(1)/usr/lib
	$(CP) $(PKG_BUILD_DIR)/libzcfg_fe_dal.so $(1)/usr/lib/
endef

define Package/libzcfg_fe_dal/install
	$(INSTALL_DIR) $(1)/lib
	$(INSTALL_BIN) $(PKG_BUILD_DIR)/$(PKG_NAME).so $(1)/lib
#	$(INSTALL_DIR) $(1)/lib/public
#	$(INSTALL_BIN) $(PKG_BUILD_DIR)/libzcfg_fe_dal.so $(1)/lib/public
#	ln -s /lib/public/libzcfg_fe_dal.so $(1)/lib/libzcfg_fe_dal.so
endef

$(eval $(call BuildPackage,libzcfg_fe_dal))

